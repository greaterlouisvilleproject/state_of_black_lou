two_var_trend(l_and_pm_inc, "l_ft_f_income_gap", "p_ft_f_income_gap", "Louisivlle", "Peer City Mean",
"Difference in Median Income between \n White and Black Females, Full-Time Year-Round", y_title = "Dollars",
colors = c("purple", "green"), y_lower = 0, y_upper = 60000)
black_pov_data = acs_time("C:/Users/natek/OneDrive/GLP/State of Black Lville/input data/Poverty/Black")
black_pov_data = black_pov_data %>%
mutate(num_m_child_poor = Estimate..Income.in.the.past.12.months.below.poverty.level....Male....Under.5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....12.to.14.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....6.to.11.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....15.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....16.and.17.years,
num_f_child_poor = Estimate..Income.in.the.past.12.months.below.poverty.level....Female....Under.5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....6.to.11.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....12.to.14.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....15.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....16.and.17.years,
num_m_child_not_poor = Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....Under.5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....6.to.11.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....12.to.14.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....15.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....16.and.17.years,
num_f_child_not_poor = Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....Under.5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....6.to.11.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....12.to.14.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....15.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....16.and.17.years,
child_pov = (num_m_child_poor+num_f_child_poor)/(num_m_child_poor+num_m_child_not_poor+
num_f_child_poor+num_f_child_not_poor),
pov = Estimate..Income.in.the.past.12.months.below.poverty.level./Estimate..Total.,
m_pov = Estimate..Income.in.the.past.12.months.below.poverty.level....Male./
(Estimate..Income.in.the.past.12.months.below.poverty.level....Male. +
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male.),
f_pov = Estimate..Income.in.the.past.12.months.below.poverty.level....Female./
(Estimate..Income.in.the.past.12.months.below.poverty.level....Female.+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female.)
)
black_pov_data = black_pov_data %>%
mutate(child_pov = child_pov*100,
m_pov = m_pov*100,
f_pov = f_pov*100,
pov = pov*100) %>%
select(FIPS, year, bl_child_pov = child_pov, bl_m_pov = m_pov, bl_f_pov = f_pov, bl_pov = pov)
white_pov_data = acs_time("C:/Users/natek/OneDrive/GLP/State of Black Lville/input data/Poverty/White")
white_pov_data = white_pov_data %>%
mutate(num_m_child_poor = Estimate..Income.in.the.past.12.months.below.poverty.level....Male....Under.5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....12.to.14.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....6.to.11.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....15.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Male....16.and.17.years,
num_f_child_poor = Estimate..Income.in.the.past.12.months.below.poverty.level....Female....Under.5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....5.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....6.to.11.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....12.to.14.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....15.years+
Estimate..Income.in.the.past.12.months.below.poverty.level....Female....16.and.17.years,
num_m_child_not_poor = Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....Under.5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....6.to.11.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....12.to.14.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....15.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male....16.and.17.years,
num_f_child_not_poor = Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....Under.5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....5.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....6.to.11.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....12.to.14.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....15.years+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female....16.and.17.years,
child_pov = (num_m_child_poor+num_f_child_poor)/(num_m_child_poor+num_m_child_not_poor+
num_f_child_poor+num_f_child_not_poor),
pov = Estimate..Income.in.the.past.12.months.below.poverty.level./Estimate..Total.,
m_pov = Estimate..Income.in.the.past.12.months.below.poverty.level....Male./
(Estimate..Income.in.the.past.12.months.below.poverty.level....Male. +
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Male.),
f_pov = Estimate..Income.in.the.past.12.months.below.poverty.level....Female./
(Estimate..Income.in.the.past.12.months.below.poverty.level....Female.+
Estimate..Income.in.the.past.12.months.at.or.above.poverty.level....Female.)
)
white_pov_data = white_pov_data %>%
mutate(child_pov = child_pov*100,
m_pov = m_pov*100,
f_pov = f_pov*100,
pov = pov*100) %>%
select(FIPS, year, wh_child_pov = child_pov, wh_m_pov = m_pov, wh_f_pov = f_pov, wh_pov = pov)
pov_data = full_join(black_pov_data, white_pov_data, by=c("FIPS", "year"))
l_pov_data = pov_data %>%
filter(FIPS == 21111)
two_var_trend(l_pov_data, "bl_pov", "wh_pov", "Black", "White", "Poverty Rate in Louisville",
colors = "orange", "darkblue")
two_var_trend(l_pov_data, "bl_child_pov", "wh_child_pov", "Black", "White", "Child Poverty Rate in Louisville",
colors = "orange", "darkblue")
two_var_trend(l_pov_data, "bl_f_pov", "wh_f_pov", "Black", "White", "Female Poverty Rate in Louisville",
colors = "orange", "darkblue")
two_var_trend(l_pov_data, "bl_m_pov", "wh_m_pov", "Black", "White", "Male Poverty Rate in Louisville",
colors = "orange", "darkblue")
two_var_trend(l_pov_data, "bl_pov", "wh_pov", "Black", "White", "Poverty Rate in Louisville",
colors = c("orange", "darkblue"))
two_var_trend(l_pov_data, "bl_child_pov", "wh_child_pov", "Black", "White", "Child Poverty Rate in Louisville",
colors = c("orange", "darkblue"))
two_var_trend(l_pov_data, "bl_f_pov", "wh_f_pov", "Black", "White", "Female Poverty Rate in Louisville",
colors = c("orange", "darkblue"))
two_var_trend(l_pov_data, "bl_m_pov", "wh_m_pov", "Black", "White", "Male Poverty Rate in Louisville",
colors = c("orange", "darkblue"))
two_var_trend(l_pov_data, "bl_pov", "wh_pov", "Black", "White", "Poverty Rate in Louisville",
colors = c("orange", "darkblue"), y_upper = 65)
two_var_trend(l_pov_data, "bl_child_pov", "wh_child_pov", "Black", "White", "Child Poverty Rate in Louisville",
colors = c("orange", "darkblue"), y_upper = 65)
two_var_trend(l_pov_data, "bl_pov", "wh_pov", "Black", "White", "Poverty Rate in Louisville",
colors = c("orange", "darkblue"), y_upper = 65)
two_var_trend(l_pov_data, "bl_child_pov", "wh_child_pov", "Black", "White", "Child Poverty Rate in Louisville",
colors = c("orange", "darkblue"), y_upper = 65)
two_var_trend(l_pov_data, "bl_f_pov", "wh_f_pov", "Black", "White", "Female Poverty Rate in Louisville",
colors = c("orange", "darkblue"), y_upper = 65)
two_var_trend(l_pov_data, "bl_m_pov", "wh_m_pov", "Black", "White", "Male Poverty Rate in Louisville",
colors = c("orange", "darkblue"), y_upper = 65)
p_pov_data = pov_data %>%
filter(FIPS != 21111)
stl_bl_child_pov = stl_wgt(p_pov_data, "bl_child_pov")
stl_bl_pov = stl_wgt(p_pov_data, "bl_pov")
stl_bl_f_pov = stl_wgt(p_pov_data, "bl_f_pov")
stl_bl_m_pov = stl_wgt(p_pov_data, "bl_m_pov")
stl_wh_child_pov = stl_wgt(p_pov_data, "wh_child_pov")
stl_wh_pov = stl_wgt(p_pov_data, "wh_pov")
stl_wh_f_pov = stl_wgt(p_pov_data, "wh_f_pov")
stl_wh_m_pov = stl_wgt(p_pov_data, "wh_m_pov")
stl_pov = full_join(stl_bl_child_pov, stl_bl_pov, by= c("FIPS", "year", "current"))
stl_pov = full_join(stl_pov, stl_bl_f_pov, by= c("FIPS", "year", "current"))
stl_pov = full_join(stl_pov, stl_bl_m_pov, by= c("FIPS", "year", "current"))
stl_pov = full_join(stl_pov, stl_wh_child_pov, by= c("FIPS", "year", "current"))
stl_pov = full_join(stl_pov, stl_wh_pov, by= c("FIPS", "year", "current"))
stl_pov = full_join(stl_pov, stl_wh_f_pov, by= c("FIPS", "year", "current"))
stl_pov = full_join(stl_pov, stl_wh_m_pov, by= c("FIPS", "year", "current"))
stl_pov = stl_pov %>%
select(-current)
stl_pov = stl_pov[c("FIPS", "year", "bl_child_pov", "bl_m_pov", "bl_f_pov", "bl_pov",
"wh_child_pov", "wh_m_pov","wh_f_pov","wh_pov")]#reordering
names(stl_pov) == names(p_pov_data)
peer_pov_data = rbind(p_pov_data, stl_pov)
pm_pov_data = peer_pov_data %>%
group_by(year) %>%
summarize(
p_bl_m_pov = mean(bl_m_pov, na.rm=TRUE),
p_bl_child_pov = mean(bl_child_pov, na.rm=TRUE),
p_bl_f_pov = mean(bl_f_pov, na.rm=TRUE),
p_bl_pov = mean(bl_pov, na.rm=TRUE),
p_wh_m_pov = mean(wh_m_pov, na.rm=TRUE),
p_wh_child_pov = mean(wh_child_pov, na.rm=TRUE),
p_wh_f_pov = mean(wh_f_pov, na.rm=TRUE),
p_wh_pov = mean(wh_pov, na.rm=TRUE)
)
l_and_pm_pov = full_join(l_pov_data, pm_pov_data, by="year")
l_and_pm_pov = l_and_pm_pov %>%
mutate(
p_pov_gap = p_bl_pov - p_wh_pov,
l_pov_gap = bl_pov - wh_pov,
p_child_pov_gap = p_bl_child_pov - p_wh_child_pov,
l_child_pov_gap = bl_child_pov - wh_child_pov
)
two_var_trend(l_and_pm_pov, "bl_pov", "p_bl_pov", "Louisville", "Peer City Mean", "Black Poverty Rate",
colors = c("purple", "green"), y_upper = 65)
two_var_trend(l_and_pm_pov, "bl_child_pov", "p_bl_child_pov", "Louisville", "Peer City Mean", "Black Child Poverty Rate",
colors = c("purple", "green"), y_upper = 65)
two_var_trend(l_and_pm_pov, "bl_f_pov", "p_bl_f_pov", "Louisville", "Peer City Mean", "Black Female Poverty Rate",
colors = c("purple", "green"), y_upper = 65)
two_var_trend(l_and_pm_pov, "bl_m_pov", "p_bl_m_pov", "Louisville", "Peer City Mean", "Black Male Poverty Rate",
colors = c("purple", "green"), y_upper = 65)
two_var_trend(l_and_pm_pov, "l_pov_gap", "p_pov_gap", "Louisville", "Peer City Mean", "Black-White Poverty Gap",
y_title = "Percentage Points", colors = c("purple", "green"), y_upper = 65)
two_var_trend(l_and_pm_pov, "l_child_pov_gap", "p_child_pov_gap", "Louisville", "Peer City Mean", "Black-White Child Poverty Gap",
y_title = "Percentage Points", colors = c("purple", "green"), y_upper = 65)
two_var_trend(lville_unemployment, "bl_unemployment", "wh_unemployment", "Black", "White",
"Unemployment Rate in Louisville by Race, 2005-2015", colors = c("orange", "darkblue"),
y_upper = 35)
two_var_trend(lville_unemployment, "bl_male_out_of_lf_25_54", "wh_male_out_of_lf_25_54", "Black", "White",
"Male Out of Labor Force Rate in Louisville by Race, Ages 24-55", colors = c("orange", "darkblue"),
y_upper = 35)
lville_bl_ed_hist = lville_black_educ %>%
filter(year >=2011)
attach(lville_bl_ed_hist)
lville_bl_m_educ = c(mean(m_no_hs_pct),mean(m_hs_pct), mean(m_some_pct), mean(m_assoc_pct), mean(m_bach_pct), mean(m_grad_pct))
lville_bl_f_educ = c(mean(f_no_hs_pct),mean(f_hs_pct), mean(f_some_pct), mean(f_assoc_pct), mean(f_bach_pct), mean(f_grad_pct))
detach(lville_bl_ed_hist)
lville_wh_ed_hist = lville_white_educ %>%
filter(year >=2011)
attach(lville_wh_ed_hist)
lville_wh_m_educ = c(mean(m_no_hs_pct),mean(m_hs_pct), mean(m_some_pct), mean(m_assoc_pct), mean(m_bach_pct), mean(m_grad_pct))
lville_wh_f_educ = c(mean(f_no_hs_pct),mean(f_hs_pct), mean(f_some_pct), mean(f_assoc_pct), mean(f_bach_pct), mean(f_grad_pct))
detach(lville_wh_ed_hist)
educ_names = c("No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate",
"No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate",
"No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate",
"No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate")
gender = c("Black Male", "Black Male", "Black Male", "Black Male", "Black Male", "Black Male",
"Black Female", "Black Female", "Black Female", "Black Female", "Black Female", "Black Female",
"White Male", "White Male", "White Male", "White Male", "White Male", "White Male",
"White Female", "White Female", "White Female", "White Female", "White Female", "White Female")
percent = c(lville_bl_m_educ, lville_bl_f_educ, lville_wh_m_educ, lville_wh_f_educ)
lville_ed_hist = data.frame(educ_names, gender, percent)
##setting factor levels
lville_ed_hist$educ_names = factor(lville_ed_hist$educ_names, levels = c(
"No HS", "HS", "Some College", "Associate's","Bachelor's","Graduate"))
educ_hist = ggplot(lville_ed_hist, aes(x=educ_names, y=percent))+geom_bar(stat="identity")+
facet_wrap(~gender)
educ_hist = educ_hist+labs(title = "Educational Attainment in Lousville by Race and Gender, 2011-2015", y="Percent", x = "Highest Level of Education")
educ_hist = educ_hist+theme(axis.text.x=element_text(angle=30, vjust=0.3))
View(lville_bl_ed_hist)
black_educ_data = acs_time("C:/Users/natek/OneDrive/GLP/State of Black Lville/input data/Education/Black",
starting.year = 2008)
black_educ_data = black_educ_data %>%
mutate(male_hs_higher_num = Estimate..Male....Regular.high.school.diploma+
Estimate..Male....GED.or.alternative.credential+
Estimate..Male....Some.college..no.degree+
Estimate..Male....Associate.s.degree+
Estimate..Male....Bachelor.s.degree+
Estimate..Male....Graduate.degree,
male_associate_higher_num = Estimate..Male....Associate.s.degree+
Estimate..Male....Bachelor.s.degree+
Estimate..Male....Graduate.degree,
male_bachelors_higher_num = Estimate..Male....Bachelor.s.degree+
Estimate..Male....Graduate.degree,
m_hs_higher_pct = male_hs_higher_num/Estimate..Male.,
m_assoc_higher_pct = male_associate_higher_num/Estimate..Male.,
m_bach_higher_pct = male_bachelors_higher_num/Estimate..Male.,
m_no_hs_pct = (Estimate..Male....Less.than.9th.grade+
Estimate..Male....9th.to.12th.grade..no.diploma)/Estimate..Male.,
m_hs_pct = (Estimate..Male....Regular.high.school.diploma+
Estimate..Male....GED.or.alternative.credential)/Estimate..Male.,
m_some_pct = Estimate..Male....Some.college..no.degree/Estimate..Male.,
m_assoc_pct = Estimate..Male....Associate.s.degree/Estimate..Male.,
m_bach_pct = Estimate..Male....Bachelor.s.degree/Estimate..Male.,
m_grad_pct = Estimate..Male....Graduate.degree/Estimate..Male.,
female_hs_higher_num = Estimate..Female....Regular.high.school.diploma+
Estimate..Female....GED.or.alternative.credential+
Estimate..Female....Some.college..no.degree+
Estimate..Female....Associate.s.degree+
Estimate..Female....Bachelor.s.degree+
Estimate..Female....Graduate.degree,
female_associate_higher_num = Estimate..Female....Associate.s.degree+
Estimate..Female....Bachelor.s.degree+
Estimate..Female....Graduate.degree,
female_bachelors_higher_num = Estimate..Female....Bachelor.s.degree+
Estimate..Female....Graduate.degree,
f_hs_higher_pct = female_hs_higher_num/Estimate..Female.,
f_assoc_higher_pct = female_associate_higher_num/Estimate..Female.,
f_bach_higher_pct = female_bachelors_higher_num/Estimate..Female.,
f_no_hs_pct = (Estimate..Female....Less.than.9th.grade+
Estimate..Female....9th.to.12th.grade..no.diploma)/Estimate..Female.,
f_hs_pct = (Estimate..Female....Regular.high.school.diploma+
Estimate..Female....GED.or.alternative.credential)/Estimate..Female.,
f_some_pct = Estimate..Female....Some.college..no.degree/Estimate..Female.,
f_assoc_pct = Estimate..Female....Associate.s.degree/Estimate..Female.,
f_bach_pct = Estimate..Female....Bachelor.s.degree/Estimate..Female.,
f_grad_pct = Estimate..Female....Graduate.degree/Estimate..Female.,
hs_higher_pct = (male_hs_higher_num+female_hs_higher_num)/Estimate..Total.,
assoc_higher_pct = (male_associate_higher_num+female_associate_higher_num)/Estimate..Total.,
bach_higher_pct = (male_bachelors_higher_num+female_bachelors_higher_num)/Estimate..Total.)
lville_black_educ = black_educ_data %>%
filter(FIPS == 21111)%>%
select(year, m_hs_higher_pct, m_assoc_higher_pct, m_bach_higher_pct, m_no_hs_pct, m_hs_pct, m_some_pct, m_assoc_pct,
m_bach_pct, m_grad_pct,
f_hs_higher_pct, f_assoc_higher_pct, f_bach_higher_pct, f_no_hs_pct, f_hs_pct, f_some_pct, f_assoc_pct,
f_bach_pct, f_grad_pct,
hs_higher_pct, assoc_higher_pct, bach_higher_pct)
lville_black_educ[,2:22]=lville_black_educ[,2:22]*100
white_educ_data = acs_time("C:/Users/natek/OneDrive/GLP/State of Black Lville/input data/Education/White",
starting.year = 2008)
white_educ_data = white_educ_data %>%
mutate(male_hs_higher_num = Estimate..Male....Regular.high.school.diploma+
Estimate..Male....GED.or.alternative.credential+
Estimate..Male....Some.college..no.degree+
Estimate..Male....Associate.s.degree+
Estimate..Male....Bachelor.s.degree+
Estimate..Male....Graduate.degree,
male_associate_higher_num = Estimate..Male....Associate.s.degree+
Estimate..Male....Bachelor.s.degree+
Estimate..Male....Graduate.degree,
male_bachelors_higher_num = Estimate..Male....Bachelor.s.degree+
Estimate..Male....Graduate.degree,
m_hs_higher_pct = male_hs_higher_num/Estimate..Male.,
m_assoc_higher_pct = male_associate_higher_num/Estimate..Male.,
m_bach_higher_pct = male_bachelors_higher_num/Estimate..Male.,
m_no_hs_pct = (Estimate..Male....Less.than.9th.grade+
Estimate..Male....9th.to.12th.grade..no.diploma)/Estimate..Male.,
m_hs_pct = (Estimate..Male....Regular.high.school.diploma+
Estimate..Male....GED.or.alternative.credential)/Estimate..Male.,
m_some_pct = Estimate..Male....Some.college..no.degree/Estimate..Male.,
m_assoc_pct = Estimate..Male....Associate.s.degree/Estimate..Male.,
m_bach_pct = Estimate..Male....Bachelor.s.degree/Estimate..Male.,
m_grad_pct = Estimate..Male....Graduate.degree/Estimate..Male.,
female_hs_higher_num = Estimate..Female....Regular.high.school.diploma+
Estimate..Female....GED.or.alternative.credential+
Estimate..Female....Some.college..no.degree+
Estimate..Female....Associate.s.degree+
Estimate..Female....Bachelor.s.degree+
Estimate..Female....Graduate.degree,
female_associate_higher_num = Estimate..Female....Associate.s.degree+
Estimate..Female....Bachelor.s.degree+
Estimate..Female....Graduate.degree,
female_bachelors_higher_num = Estimate..Female....Bachelor.s.degree+
Estimate..Female....Graduate.degree,
f_hs_higher_pct = female_hs_higher_num/Estimate..Female.,
f_assoc_higher_pct = female_associate_higher_num/Estimate..Female.,
f_bach_higher_pct = female_bachelors_higher_num/Estimate..Female.,
f_no_hs_pct = (Estimate..Female....Less.than.9th.grade+
Estimate..Female....9th.to.12th.grade..no.diploma)/Estimate..Female.,
f_hs_pct = (Estimate..Female....Regular.high.school.diploma+
Estimate..Female....GED.or.alternative.credential)/Estimate..Female.,
f_some_pct = Estimate..Female....Some.college..no.degree/Estimate..Female.,
f_assoc_pct = Estimate..Female....Associate.s.degree/Estimate..Female.,
f_bach_pct = Estimate..Female....Bachelor.s.degree/Estimate..Female.,
f_grad_pct = Estimate..Female....Graduate.degree/Estimate..Female.,
hs_higher_pct = (male_hs_higher_num+female_hs_higher_num)/Estimate..Total.,
assoc_higher_pct = (male_associate_higher_num+female_associate_higher_num)/Estimate..Total.,
bach_higher_pct = (male_bachelors_higher_num+female_bachelors_higher_num)/Estimate..Total.)
lville_white_educ = white_educ_data %>%
filter(FIPS == 21111)%>%
select(year, m_hs_higher_pct, m_assoc_higher_pct, m_bach_higher_pct, m_no_hs_pct, m_hs_pct, m_some_pct, m_assoc_pct,
m_bach_pct, m_grad_pct,
f_hs_higher_pct, f_assoc_higher_pct, f_bach_higher_pct, f_no_hs_pct, f_hs_pct, f_some_pct, f_assoc_pct,
f_bach_pct, f_grad_pct,
hs_higher_pct, assoc_higher_pct, bach_higher_pct)
lville_white_educ[,2:22]=lville_white_educ[,2:22]*100
lville_bl_ed_hist = lville_black_educ %>%
filter(year >=2011)
attach(lville_bl_ed_hist)
lville_bl_m_educ = c(mean(m_no_hs_pct),mean(m_hs_pct), mean(m_some_pct), mean(m_assoc_pct), mean(m_bach_pct), mean(m_grad_pct))
lville_bl_f_educ = c(mean(f_no_hs_pct),mean(f_hs_pct), mean(f_some_pct), mean(f_assoc_pct), mean(f_bach_pct), mean(f_grad_pct))
detach(lville_bl_ed_hist)
lville_wh_ed_hist = lville_white_educ %>%
filter(year >=2011)
attach(lville_wh_ed_hist)
lville_wh_m_educ = c(mean(m_no_hs_pct),mean(m_hs_pct), mean(m_some_pct), mean(m_assoc_pct), mean(m_bach_pct), mean(m_grad_pct))
lville_wh_f_educ = c(mean(f_no_hs_pct),mean(f_hs_pct), mean(f_some_pct), mean(f_assoc_pct), mean(f_bach_pct), mean(f_grad_pct))
detach(lville_wh_ed_hist)
educ_names = c("No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate",
"No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate",
"No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate",
"No HS", "HS", "Some College", "Associate's", "Bachelor's", "Graduate")
gender = c("Black Male", "Black Male", "Black Male", "Black Male", "Black Male", "Black Male",
"Black Female", "Black Female", "Black Female", "Black Female", "Black Female", "Black Female",
"White Male", "White Male", "White Male", "White Male", "White Male", "White Male",
"White Female", "White Female", "White Female", "White Female", "White Female", "White Female")
percent = c(lville_bl_m_educ, lville_bl_f_educ, lville_wh_m_educ, lville_wh_f_educ)
lville_ed_hist = data.frame(educ_names, gender, percent)
View(lville_ed_hist)
View(lville_ed_hist)
View(peer_inc_data)
View(peer_inc_data)
View(pm_inc_data)
View(pm_inc_data)
View(l_and_pm_inc)
View(l_and_pm_inc)
mean(l_and_pm_inc$l_m_income_gap)
mean(l_and_pm_inc$l_f_income_gap)
View(l_pov_data)
l_pov_data$bl_pov/l_pov_data$wh_pov
mean(l_pov_data$bl_pov/l_pov_data$wh_pov)
mean(l_pov_data$bl_child_pov/l_pov_data$wh_child_pov)
rm(list = ls())
set.seed = 1
louisville_population = rep(0, 750000)
forty_percent = .4*750000
getting_a_degree = sample(1:750000, forty_percent ,replace = FALSE)
louisville_population[getting_a_degree] = 1
summary(louisivlle_population)
set.seed = 1
louisville_population = rep(0, 750000)
forty_percent = .4*750000
getting_a_degree = sample(1:750000, forty_percent ,replace = FALSE)
louisville_population[getting_a_degree] = 1
summary(louisville_population)
sample_size = .025*750000
sample1 = sample(louisville_population, sample_size, replace = false)
sample_size = .025*750000
sample1 = sample(louisville_population, sample_size, replace = FALSE)
mean(sample1)
se(sample1)
sample_size = .025*750000
sample1 = sample(louisville_population, sample_size, replace = FALSE)
mean(sample1)
sd(sample1)/sqrt(sample_size)
num = 11
for i in num{
means = NULL
for i in 1:11{
means = NULL
for (i in 1:11){
sample = sample(louisville_population, sample_size, replace = FALSE)
means[i] = mean(sample)
means
}
means = NULL
for (i in 1:11){
sample = sample(louisville_population, sample_size, replace = FALSE)
means[i] = mean(sample)
}
means
means2 = NULL
for (i in 1:11){
sample = sample(louisville_population, sample_size, replace = FALSE)
means[i] = mean(sample)
}
means2
means2 = NULL
for (i in 1:11){
sample = sample(louisville_population, sample_size, replace = FALSE)
means2[i] = mean(sample)
}
means2
1/40
sample_size
means2 = NULL
for (i in 1:11){
sample = sample(louisville_population, sample_size, replace = FALSE)
means2[i] = mean(sample)
}
means2
df1 = cbind(mean1, 2005:2015)
df1 = cbind(means, 2005:2015)
df1 = cbind(means, 2005:2015)
names(df) = c("percent", "year")
df1 = cbind(means, 2005:2015)
names(df1) = c("percent", "year")
one_var_trend = function(df, var, title, y_title = "Percent"){
df$var<-df[[var]]
p<-ggplot(data=df,aes(x=year,y=var*100))+
geom_point()+
geom_smooth()
p<-p+theme_fivethirtyeight()
p<-p+scale_x_continuous(breaks=seq(2005, 2015, 2))
p<-p+theme(legend.title=element_blank())
p<-p+theme(axis.title=element_text())
p<-p+labs(title=title,x="Year",
y=y_title)
p<-p+theme(axis.text=element_text(size=12))
p<-p+theme(axis.ticks.y=element_blank())
p<-p+theme(plot.title=element_text(color="black",size=18,face="bold",hjust=.5,
margin=margin(b=10,unit="pt")))
p<-p+theme(legend.text=element_text(size=12))
p
}
one_var_trend(df1, "percent", "Percent With College Degree")
df1 = data.frame(means, 2005:2015)
names(df1) = c("percent", "year")
one_var_trend = function(df, var, title, y_title = "Percent"){
df$var<-df[[var]]
p<-ggplot(data=df,aes(x=year,y=var*100))+
geom_point()+
geom_smooth()
p<-p+theme_fivethirtyeight()
p<-p+scale_x_continuous(breaks=seq(2005, 2015, 2))
p<-p+theme(legend.title=element_blank())
p<-p+theme(axis.title=element_text())
p<-p+labs(title=title,x="Year",
y=y_title)
p<-p+theme(axis.text=element_text(size=12))
p<-p+theme(axis.ticks.y=element_blank())
p<-p+theme(plot.title=element_text(color="black",size=18,face="bold",hjust=.5,
margin=margin(b=10,unit="pt")))
p<-p+theme(legend.text=element_text(size=12))
p
}
one_var_trend(df1, "percent", "Percent With College Degree")
df1 = data.frame(means, 2005:2015)
names(df1) = c("percent", "year")
one_var_trend = function(df, var, title, y_title = "Percent"){
df$var<-df[[var]]
p<-ggplot(data=df,aes(x=year,y=var*100))+
geom_point()+
geom_smooth()
p<-p+theme_fivethirtyeight()
p<-p+scale_x_continuous(breaks=seq(2005, 2015, 2))
p<-p+theme(legend.title=element_blank())
p<-p+theme(axis.title=element_text())
p<-p+labs(title=title,x="Year",
y=y_title)
p<-p+theme(axis.text=element_text(size=12))
p<-p+theme(axis.ticks.y=element_blank())
p<-p+theme(plot.title=element_text(color="black",size=18,face="bold",hjust=.5,
margin=margin(b=10,unit="pt")))
p<-p+theme(legend.text=element_text(size=12))
p
}
p = one_var_trend(df1, "percent", "Percent With College Degree")
p
p+geom_smooth(method = "lm")
df1 = data.frame(means, 2005:2015)
names(df1) = c("percent", "year")
one_var_trend = function(df, var, title, y_title = "Percent"){
df$var<-df[[var]]
p<-ggplot(data=df,aes(x=year,y=var*100))+
geom_point()+
geom_smooth()
p<-p+theme_fivethirtyeight()
p<-p+scale_x_continuous(breaks=seq(2005, 2015, 2))
p<-p+theme(legend.title=element_blank())
p<-p+theme(axis.title=element_text())
p<-p+labs(title=title,x="Year",
y=y_title)
p<-p+theme(axis.text=element_text(size=12))
p<-p+theme(axis.ticks.y=element_blank())
p<-p+theme(plot.title=element_text(color="black",size=18,face="bold",hjust=.5,
margin=margin(b=10,unit="pt")))
p<-p+theme(legend.text=element_text(size=12))
p
}
p = one_var_trend(df1, "percent", "Percent With College Degree")
p
p+geom_smooth(method = "lm", color = "red")
